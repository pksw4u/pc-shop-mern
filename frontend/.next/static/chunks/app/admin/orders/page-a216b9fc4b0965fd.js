(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{2601:function(e,t,r){"use strict";var s,a;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(8960)},854:function(e,t,r){Promise.resolve().then(r.bind(r,3409))},3409:function(e,t,r){"use strict";r.r(t),r.d(t,{dynamic:function(){return i}});var s=r(7437),a=r(2265),n=r(9967);let i="force-dynamic";t.default=()=>{var e,t,r,i,l;let[d,c]=(0,a.useState)([]),[o,u]=(0,a.useState)(!0),[p,x]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[g,f]=(0,a.useState)("");(0,a.useEffect)(()=>{fetchOrders()},[g]);let fetchOrders=async()=>{try{let e={};g&&(e.status=g);let t=await n.d.getAllOrders(e);c(t.orders||[])}catch(r){var e,t;x((null===(t=r.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load orders")}finally{u(!1)}},handleStatusUpdate=async(e,t)=>{try{await n.d.updateOrderStatus(e,{status:t}),await fetchOrders()}catch(e){var r,s;x((null===(s=e.response)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:r.message)||"Failed to update order status")}},getStatusColor=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders Management"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage customer orders and their status"})]})}),p&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-red-800",children:p})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Status:"}),(0,s.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"All Orders"}),(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,s.jsx)("option",{value:"shipped",children:"Shipped"}),(0,s.jsx)("option",{value:"delivered",children:"Delivered"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["All Orders (",d.length,")"]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["#",e._id.slice(-8)]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.user.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.user.email})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",e.total]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(getStatusColor(e.status)),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-gray-900",children:new Date(e.createdAt).toLocaleDateString()})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,s.jsx)("button",{onClick:()=>h(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"View Details"}),(0,s.jsxs)("select",{value:e.status,onChange:t=>handleStatusUpdate(e._id,t.target.value),className:"px-2 py-1 border border-gray-300 rounded text-xs",children:[(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,s.jsx)("option",{value:"shipped",children:"Shipped"}),(0,s.jsx)("option",{value:"delivered",children:"Delivered"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})]},e._id))})]})})]}),m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Order Details - #",m._id.slice(-8)]}),(0,s.jsx)("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("span",{className:"text-2xl",children:"\xd7"})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Customer Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Name"}),(0,s.jsx)("p",{className:"font-medium",children:m.user.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Email"}),(0,s.jsx)("p",{className:"font-medium",children:m.user.email})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Shipping Address"}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{children:null===(e=m.shippingAddress)||void 0===e?void 0:e.street}),(0,s.jsxs)("p",{children:[null===(t=m.shippingAddress)||void 0===t?void 0:t.city,", ",null===(r=m.shippingAddress)||void 0===r?void 0:r.state," ",null===(i=m.shippingAddress)||void 0===i?void 0:i.zipCode]}),(0,s.jsx)("p",{children:null===(l=m.shippingAddress)||void 0===l?void 0:l.country})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-4",children:"Order Items"}),(0,s.jsx)("div",{className:"space-y-4",children:m.products.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.product.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]})]})}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"font-medium text-gray-900",children:["$",e.product.price]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Subtotal: $",(e.product.price*e.quantity).toFixed(2)]})]})]},t))}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"Total:"}),(0,s.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["$",m.total]})]})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Order Status"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full ".concat(getStatusColor(m.status)),children:m.status}),(0,s.jsxs)("select",{value:m.status,onChange:e=>handleStatusUpdate(m._id,e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,s.jsx)("option",{value:"shipped",children:"Shipped"}),(0,s.jsx)("option",{value:"delivered",children:"Delivered"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})]})]})]})})]})}},9967:function(e,t,r){"use strict";r.d(t,{d:function(){return a}});var s=r(5436);let a={getDashboardStats:async()=>{let e=await s.Z.get("/admin/dashboard");return e.data},getAllProducts:async e=>{let t=await s.Z.get("/products",{params:e});return t.data},createProduct:async e=>{let t=await s.Z.post("/products",e);return t.data},updateProduct:async(e,t)=>{let r=await s.Z.put("/products/".concat(e),t);return r.data},deleteProduct:async e=>{let t=await s.Z.delete("/products/".concat(e));return t.data},getAllCategories:async()=>{let e=await s.Z.get("/categories");return e.data},createCategory:async e=>{let t=await s.Z.post("/categories",e);return t.data},updateCategory:async(e,t)=>{let r=await s.Z.put("/categories/".concat(e),t);return r.data},deleteCategory:async e=>{let t=await s.Z.delete("/categories/".concat(e));return t.data},getAllOrders:async e=>{let t=await s.Z.get("/orders",{params:e});return t.data},getOrderById:async e=>{let t=await s.Z.get("/orders/".concat(e));return t.data},updateOrderStatus:async(e,t)=>{let r=await s.Z.put("/orders/".concat(e,"/status"),t);return r.data},getAllUsers:async()=>{let e=await s.Z.get("/users");return e.data},getUserById:async e=>{let t=await s.Z.get("/users/".concat(e));return t.data},updateUser:async(e,t)=>{let r=await s.Z.put("/users/".concat(e),t);return r.data},deleteUser:async e=>{let t=await s.Z.delete("/users/".concat(e));return t.data},getUsersStats:async()=>{let e=await s.Z.get("/admin/users/stats");return e.data},getProductsStats:async()=>{let e=await s.Z.get("/admin/products/stats");return e.data}}},5436:function(e,t,r){"use strict";var s=r(4829);let a=s.Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}),t.Z=a},8960:function(e){!function(){var t={229:function(e){var t,r,s,a=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var n=[],i=!1,l=-1;function cleanUpNextTick(){i&&s&&(i=!1,s.length?n=s.concat(n):l=-1,n.length&&drainQueue())}function drainQueue(){if(!i){var e=runTimeout(cleanUpNextTick);i=!0;for(var t=n.length;t;){for(s=n,n=[];++l<t;)s&&s[l].run();l=-1,t=n.length}s=null,i=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.push(new Item(e,t)),1!==n.length||i||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=noop,a.addListener=noop,a.once=noop,a.off=noop,a.removeListener=noop,a.removeAllListeners=noop,a.emit=noop,a.prependListener=noop,a.prependOnceListener=noop,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function __nccwpck_require__(e){var s=r[e];if(void 0!==s)return s.exports;var a=r[e]={exports:{}},n=!0;try{t[e](a,a.exports,__nccwpck_require__),n=!1}finally{n&&delete r[e]}return a.exports}__nccwpck_require__.ab="//";var s=__nccwpck_require__(229);e.exports=s}()},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(2265),a=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var s,n={},c=null,o=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(o=t.ref),t)i.call(t,s)&&!d.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===n[s]&&(n[s]=t[s]);return{$$typeof:a,type:e,key:c,ref:o,props:n,_owner:l.current}}t.Fragment=n,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[829,971,472,744],function(){return e(e.s=854)}),_N_E=e.O()}]);