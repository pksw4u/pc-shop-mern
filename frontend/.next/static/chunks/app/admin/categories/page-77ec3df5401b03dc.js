(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{2601:function(e,t,r){"use strict";var a,n;e.exports=(null==(a=r.g.process)?void 0:a.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(8960)},6459:function(e,t,r){Promise.resolve().then(r.bind(r,2142))},2142:function(e,t,r){"use strict";r.r(t),r.d(t,{dynamic:function(){return o}});var a=r(7437),n=r(2265),s=r(9967);let o="force-dynamic";t.default=()=>{let[e,t]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[i,l]=(0,n.useState)(null),[c,u]=(0,n.useState)(!1),[d,m]=(0,n.useState)(null),[p,g]=(0,n.useState)({name:"",description:"",parentCategory:""});(0,n.useEffect)(()=>{fetchCategories()},[]);let fetchCategories=async()=>{try{let e=await s.d.getAllCategories();t(e)}catch(t){var e,r;l((null===(r=t.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.message)||"Failed to load categories")}finally{o(!1)}},handleSubmit=async e=>{e.preventDefault();try{d?await s.d.updateCategory(d._id,p):await s.d.createCategory(p),await fetchCategories(),u(!1),m(null),resetForm()}catch(e){var t,r;l((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Failed to save category")}},handleEdit=e=>{var t;m(e),g({name:e.name,description:e.description,parentCategory:(null===(t=e.parentCategory)||void 0===t?void 0:t._id)||""}),u(!0)},handleDelete=async e=>{if(confirm("Are you sure you want to delete this category?"))try{await s.d.deleteCategory(e),await fetchCategories()}catch(e){var t,r;l((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Failed to delete category")}},resetForm=()=>{g({name:"",description:"",parentCategory:""})},closeForm=()=>{u(!1),m(null),resetForm()};return r?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Categories Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your product categories"})]}),(0,a.jsx)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Add Category"})]}),i&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-red-800",children:i})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),e.parentCategory&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Parent: ",e.parentCategory.name]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>handleEdit(e),className:"text-blue-600 hover:text-blue-900 p-1",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,a.jsx)("button",{onClick:()=>handleDelete(e._id),className:"text-red-600 hover:text-red-900 p-1",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]},e._id))}),c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:d?"Edit Category":"Add Category"}),(0,a.jsx)("button",{onClick:closeForm,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("span",{className:"text-2xl",children:"\xd7"})})]}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:p.name,onChange:e=>g({...p,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:p.description,onChange:e=>g({...p,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category (Optional)"}),(0,a.jsxs)("select",{value:p.parentCategory,onChange:e=>g({...p,parentCategory:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"No Parent Category"}),e.filter(e=>!d||e._id!==d._id).map(e=>(0,a.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:closeForm,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:d?"Update":"Create"})]})]})]})})]})}},9967:function(e,t,r){"use strict";r.d(t,{d:function(){return n}});var a=r(5436);let n={getDashboardStats:async()=>{let e=await a.Z.get("/admin/dashboard");return e.data},getAllProducts:async e=>{let t=await a.Z.get("/products",{params:e});return t.data},createProduct:async e=>{let t=await a.Z.post("/products",e);return t.data},updateProduct:async(e,t)=>{let r=await a.Z.put("/products/".concat(e),t);return r.data},deleteProduct:async e=>{let t=await a.Z.delete("/products/".concat(e));return t.data},getAllCategories:async()=>{let e=await a.Z.get("/categories");return e.data},createCategory:async e=>{let t=await a.Z.post("/categories",e);return t.data},updateCategory:async(e,t)=>{let r=await a.Z.put("/categories/".concat(e),t);return r.data},deleteCategory:async e=>{let t=await a.Z.delete("/categories/".concat(e));return t.data},getAllOrders:async e=>{let t=await a.Z.get("/orders",{params:e});return t.data},getOrderById:async e=>{let t=await a.Z.get("/orders/".concat(e));return t.data},updateOrderStatus:async(e,t)=>{let r=await a.Z.put("/orders/".concat(e,"/status"),t);return r.data},getAllUsers:async()=>{let e=await a.Z.get("/users");return e.data},getUserById:async e=>{let t=await a.Z.get("/users/".concat(e));return t.data},updateUser:async(e,t)=>{let r=await a.Z.put("/users/".concat(e),t);return r.data},deleteUser:async e=>{let t=await a.Z.delete("/users/".concat(e));return t.data},getUsersStats:async()=>{let e=await a.Z.get("/admin/users/stats");return e.data},getProductsStats:async()=>{let e=await a.Z.get("/admin/products/stats");return e.data}}},5436:function(e,t,r){"use strict";var a=r(4829);let n=a.Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),n.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}),t.Z=n},8960:function(e){!function(){var t={229:function(e){var t,r,a,n=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var s=[],o=!1,i=-1;function cleanUpNextTick(){o&&a&&(o=!1,a.length?s=a.concat(s):i=-1,s.length&&drainQueue())}function drainQueue(){if(!o){var e=runTimeout(cleanUpNextTick);o=!0;for(var t=s.length;t;){for(a=s,s=[];++i<t;)a&&a[i].run();i=-1,t=s.length}a=null,o=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new Item(e,t)),1!==s.length||o||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function __nccwpck_require__(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}},s=!0;try{t[e](n,n.exports,__nccwpck_require__),s=!1}finally{s&&delete r[e]}return n.exports}__nccwpck_require__.ab="//";var a=__nccwpck_require__(229);e.exports=a}()},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(2265),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var a,s={},c=null,u=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[829,971,472,744],function(){return e(e.s=6459)}),_N_E=e.O()}]);