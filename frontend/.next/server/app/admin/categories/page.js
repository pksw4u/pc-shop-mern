(()=>{var e={};e.id=331,e.ids=[331],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3569:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(7096),a=r(6132),i=r(7284),n=r.n(i),o=r(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["admin",{children:["categories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2264)),"d:\\Full Stack Projects\\New Project\\frontend\\src\\app\\admin\\categories\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9862)),"d:\\Full Stack Projects\\New Project\\frontend\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1268)),"d:\\Full Stack Projects\\New Project\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["d:\\Full Stack Projects\\New Project\\frontend\\src\\app\\admin\\categories\\page.tsx"],u="/admin/categories/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/categories/page",pathname:"/admin/categories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5313:(e,t,r)=>{Promise.resolve().then(r.bind(r,6023))},6023:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__,dynamic:()=>n});var s=r(784),a=r(9885),i=r(7688);let n="force-dynamic",__WEBPACK_DEFAULT_EXPORT__=()=>{let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,x]=(0,a.useState)(null),[p,m]=(0,a.useState)({name:"",description:"",parentCategory:""});(0,a.useEffect)(()=>{fetchCategories()},[]);let fetchCategories=async()=>{try{let e=await i.d.getAllCategories();t(e)}catch(e){l(e.response?.data?.message||"Failed to load categories")}finally{n(!1)}},handleSubmit=async e=>{e.preventDefault();try{u?await i.d.updateCategory(u._id,p):await i.d.createCategory(p),await fetchCategories(),d(!1),x(null),resetForm()}catch(e){l(e.response?.data?.message||"Failed to save category")}},handleEdit=e=>{x(e),m({name:e.name,description:e.description,parentCategory:e.parentCategory?._id||""}),d(!0)},handleDelete=async e=>{if(confirm("Are you sure you want to delete this category?"))try{await i.d.deleteCategory(e),await fetchCategories()}catch(e){l(e.response?.data?.message||"Failed to delete category")}},resetForm=()=>{m({name:"",description:"",parentCategory:""})},closeForm=()=>{d(!1),x(null),resetForm()};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Categories Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your product categories"})]}),s.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Add Category"})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:o})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),e.parentCategory&&(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Parent: ",e.parentCategory.name]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>handleEdit(e),className:"text-blue-600 hover:text-blue-900 p-1",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>handleDelete(e._id),className:"text-red-600 hover:text-red-900 p-1",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]},e._id))}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:u?"Edit Category":"Add Category"}),s.jsx("button",{onClick:closeForm,className:"text-gray-400 hover:text-gray-600",children:s.jsx("span",{className:"text-2xl",children:"\xd7"})})]}),(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:p.name,onChange:e=>m({...p,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:p.description,onChange:e=>m({...p,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category (Optional)"}),(0,s.jsxs)("select",{value:p.parentCategory,onChange:e=>m({...p,parentCategory:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"No Parent Category"}),e.filter(e=>!u||e._id!==u._id).map(e=>s.jsx("option",{value:e._id,children:e.name},e._id))]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:closeForm,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:u?"Update":"Create"})]})]})]})})]})}},2264:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>c,dynamic:()=>l});var s=r(5153);let a=(0,s.createProxy)(String.raw`d:\Full Stack Projects\New Project\frontend\src\app\admin\categories\page.tsx`),{__esModule:i,$$typeof:n}=a,o=a.default,l=(0,s.createProxy)(String.raw`d:\Full Stack Projects\New Project\frontend\src\app\admin\categories\page.tsx#dynamic`),c=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[576,551,113,525,369],()=>__webpack_exec__(3569));module.exports=r})();